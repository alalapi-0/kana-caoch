<view class="container">
  <view class="sentence">
    <text class="jp">{{currentSentence.jp}}</text>
    <button size="mini" bindtap="toggleHint">{{hintVisible ? '隐藏提示' : '显示提示'}}</button>
    <text wx:if="{{hintVisible}}" class="hint">{{currentSentence.romaji}} · {{currentSentence.hint}}</text>
  </view>
  <button type="primary" loading="{{loadingTts}}" bindtap="play">播放示例</button>
  <button type="default" bindtap="startRecording" disabled="{{recording}}">开始录音</button>
  <button type="warn" bindtap="stopRecording" wx:if="{{recording}}">结束录音</button>
  <view class="result" wx:if="{{result}}">
    <text>识别文本：{{result.text}}</text>
    <text>得分：{{(result.score * 100).toFixed(0)}}%</text>
    <star-rating stars="{{result.stars}}"></star-rating>
    <button size="mini" bindtap="toResult">查看详情</button>
  </view>
</view>
